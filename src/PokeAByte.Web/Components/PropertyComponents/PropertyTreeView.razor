@using PokeAByte.Web.Models

<MudTreeView Items="@Context"
             Color="Color.Default"
             Dense="true"
             Hover="true"
             ExpandOnClick="true"
             Ripple="false">
    <ItemTemplate>
        @{
            var property = context.Value ?? throw new InvalidOperationException("Value cannot be null.");
            var presenter = context is PropertyTreePresenter treePresenter ?
            treePresenter :
            throw new InvalidOperationException();
        }
        <MudTreeViewItem Items="@(context.Children)"
                         @bind-Expanded="@context.Expanded"
                         Value="@property"
                         Text="@context.Text"
                         Style="background-color:var(--mud-palette-background); margin-top: 2px; margin-bottom: 2px">
            <Content>
                @presenter?.Text
            </Content>
        </MudTreeViewItem>
    </ItemTemplate>
</MudTreeView>
@code {
    [Parameter] public required IReadOnlyList<TreeItemData<PropertyTreeItem>> Context { get; set; }
    private const int CountIncrease = 150;
    private int _maxCount = CountIncrease;
}